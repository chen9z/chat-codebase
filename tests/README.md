# æµ‹è¯•ç›®å½•ç»“æ„

æœ¬ç›®å½•åŒ…å«é¡¹ç›®çš„æ‰€æœ‰æµ‹è¯•æ–‡ä»¶ï¼ŒæŒ‰ç…§åŠŸèƒ½å’Œç±»å‹è¿›è¡Œç»„ç»‡ã€‚

## ğŸ“ ç›®å½•ç»“æ„

```
tests/
â”œâ”€â”€ unit/                           # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ data/                       # æ•°æ®å¤„ç†ç›¸å…³æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ splitters/              # è¯­ä¹‰åˆ†å—å™¨æµ‹è¯•
â”‚   â”‚   â”‚   â”œâ”€â”€ test_enhanced_semantic_splitter.py
â”‚   â”‚   â”‚   â”œâ”€â”€ test_priority_merging.py
â”‚   â”‚   â”‚   â”œâ”€â”€ test_continuous_chunking.py
â”‚   â”‚   â”‚   â””â”€â”€ test_truly_continuous.py
â”‚   â”‚   â””â”€â”€ test_comment_association.py
â”‚   â””â”€â”€ config/                     # é…ç½®ç›¸å…³æµ‹è¯•
â”œâ”€â”€ integration/                    # é›†æˆæµ‹è¯•
â”‚   â””â”€â”€ semantic_chunking/          # è¯­ä¹‰åˆ†å—é›†æˆæµ‹è¯•
â”‚       â””â”€â”€ test_rag_optimization.py
â”œâ”€â”€ demos/                          # æ¼”ç¤ºå’Œç¤ºä¾‹
â”‚   â””â”€â”€ demo_semantic_chunking.py
â””â”€â”€ debug/                          # è°ƒè¯•å’Œè¯Šæ–­å·¥å…·
    â””â”€â”€ debug_line_numbers.py
```

## ğŸ§ª æµ‹è¯•ç±»å‹è¯´æ˜

### å•å…ƒæµ‹è¯• (unit/)
æµ‹è¯•å•ä¸ªæ¨¡å—æˆ–å‡½æ•°çš„åŠŸèƒ½ï¼Œä¸ä¾èµ–å¤–éƒ¨ç³»ç»Ÿã€‚

- **data/splitters/**: è¯­ä¹‰åˆ†å—å™¨çš„æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•
  - `test_enhanced_semantic_splitter.py`: å¢å¼ºè¯­ä¹‰åˆ†å—å™¨æµ‹è¯•
  - `test_priority_merging.py`: ä¼˜å…ˆçº§åˆå¹¶é€»è¾‘æµ‹è¯•
  - `test_continuous_chunking.py`: è¿ç»­åˆ†å—æµ‹è¯•
  - `test_truly_continuous.py`: çœŸæ­£è¿ç»­åˆ†å—æµ‹è¯•

### é›†æˆæµ‹è¯• (integration/)
æµ‹è¯•å¤šä¸ªæ¨¡å—ååŒå·¥ä½œçš„åŠŸèƒ½ã€‚

- **semantic_chunking/**: è¯­ä¹‰åˆ†å—çš„ç«¯åˆ°ç«¯æµ‹è¯•
  - `test_rag_optimization.py`: RAGä¼˜åŒ–çš„é›†æˆæµ‹è¯•

### æ¼”ç¤º (demos/)
å±•ç¤ºåŠŸèƒ½çš„ç¤ºä¾‹ä»£ç ï¼Œå¯ä»¥ä½œä¸ºä½¿ç”¨æŒ‡å—ã€‚

- `demo_semantic_chunking.py`: è¯­ä¹‰åˆ†å—åŠŸèƒ½æ¼”ç¤º

### è°ƒè¯•å·¥å…· (debug/)
ç”¨äºé—®é¢˜è¯Šæ–­å’Œè°ƒè¯•çš„å·¥å…·ã€‚

- `debug_line_numbers.py`: è¡Œå·è®¡ç®—è°ƒè¯•å·¥å…·

## ğŸš€ è¿è¡Œæµ‹è¯•

### è¿è¡Œæ‰€æœ‰æµ‹è¯•
```bash
./scripts/run_tests.sh
```

### è¿è¡Œç‰¹å®šç±»å‹çš„æµ‹è¯•
```bash
# åªè¿è¡Œå•å…ƒæµ‹è¯•
uv run python -m pytest tests/unit/ -v

# åªè¿è¡Œé›†æˆæµ‹è¯•
uv run python -m pytest tests/integration/ -v

# åªè¿è¡Œè¯­ä¹‰åˆ†å—æµ‹è¯•
uv run python -m pytest tests/unit/data/splitters/ -v
```

### è¿è¡Œæ¼”ç¤º
```bash
# è¿è¡Œè¯­ä¹‰åˆ†å—æ¼”ç¤º
uv run python tests/demos/demo_semantic_chunking.py

# è¿è¡Œæµ‹è¯•æ—¶åŒ…å«æ¼”ç¤º
./scripts/run_tests.sh --with-demos
```

### è¿è¡Œè°ƒè¯•å·¥å…·
```bash
# è°ƒè¯•è¡Œå·è®¡ç®—
uv run python tests/debug/debug_line_numbers.py
```

## ğŸ“Š æµ‹è¯•è¦†ç›–çš„åŠŸèƒ½

### è¯­ä¹‰åˆ†å—æ ¸å¿ƒåŠŸèƒ½
- âœ… Tree-sitterè§£æå™¨é›†æˆ
- âœ… è¯­ä¹‰èŠ‚ç‚¹è¯†åˆ«å’Œåˆ†ç±»
- âœ… æ³¨é‡Šä¸ä»£ç å…³è”
- âœ… ä¼˜å…ˆçº§å¼•å¯¼çš„åˆå¹¶ç­–ç•¥
- âœ… è¿ç»­åˆ†å—ç®—æ³•
- âœ… è¡Œè¾¹ç•Œå¯¹é½

### RAGä¼˜åŒ–åŠŸèƒ½
- âœ… å…ƒæ•°æ®æå–
- âœ… æ£€ç´¢ä¼˜åŒ–
- âœ… ä¸Šä¸‹æ–‡ç”Ÿæˆ
- âœ… å…³ç³»å»ºç«‹

### å¤šè¯­è¨€æ”¯æŒ
- âœ… Pythonè¯­ä¹‰åˆ†å—
- âœ… Javaè¯­ä¹‰åˆ†å—
- âœ… JavaScript/TypeScriptæ”¯æŒ
- âœ… å…¶ä»–è¯­è¨€çš„åŸºç¡€æ”¯æŒ

## ğŸ”§ æ·»åŠ æ–°æµ‹è¯•

### å•å…ƒæµ‹è¯•
åœ¨ `tests/unit/` ä¸‹åˆ›å»ºå¯¹åº”æ¨¡å—çš„æµ‹è¯•æ–‡ä»¶ï¼š
```python
#!/usr/bin/env python3
import sys
from pathlib import Path

# Add project root to path
project_root = Path(__file__).parent.parent.parent
sys.path.insert(0, str(project_root))

# Your test code here
```

### é›†æˆæµ‹è¯•
åœ¨ `tests/integration/` ä¸‹åˆ›å»ºåŠŸèƒ½ç›¸å…³çš„æµ‹è¯•ï¼š
```python
# æµ‹è¯•å¤šä¸ªæ¨¡å—çš„ååŒå·¥ä½œ
```

### æ¼”ç¤ºä»£ç 
åœ¨ `tests/demos/` ä¸‹åˆ›å»ºåŠŸèƒ½æ¼”ç¤ºï¼š
```python
# å±•ç¤ºå¦‚ä½•ä½¿ç”¨æŸä¸ªåŠŸèƒ½
```

## ğŸ“ æµ‹è¯•å‘½åè§„èŒƒ

- æµ‹è¯•æ–‡ä»¶ï¼š`test_*.py`
- æ¼”ç¤ºæ–‡ä»¶ï¼š`demo_*.py`
- è°ƒè¯•å·¥å…·ï¼š`debug_*.py`
- æµ‹è¯•å‡½æ•°ï¼š`test_*()` æˆ– `def test_*():`
- æ¼”ç¤ºå‡½æ•°ï¼š`demo_*()` æˆ– `main()`

## ğŸ¯ æµ‹è¯•è´¨é‡æ ‡å‡†

- âœ… æ¯ä¸ªæµ‹è¯•åº”è¯¥ç‹¬ç«‹è¿è¡Œ
- âœ… æµ‹è¯•åº”è¯¥æœ‰æ¸…æ™°çš„æ–­è¨€
- âœ… æµ‹è¯•åº”è¯¥åŒ…å«æ­£é¢å’Œè´Ÿé¢ç”¨ä¾‹
- âœ… æµ‹è¯•åº”è¯¥æœ‰é€‚å½“çš„æ–‡æ¡£è¯´æ˜
- âœ… é›†æˆæµ‹è¯•åº”è¯¥æµ‹è¯•çœŸå®åœºæ™¯
